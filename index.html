<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Check</title>
</head>
<body>
<script>
    try {
        // Read all cookies
        const cookies = document.cookie.split('; ').reduce((acc, cookie) => {
            const [key, value] = cookie.split('=');
            acc[key] = value;
            return acc;
        }, {});

        // Check all conditions
        const isLogged = cookies.isLogged === "true";
        const loggedIn = cookies.loggedIn === "true";
        const accessToken = cookies.accessToken && cookies.accessToken !== "";
        const refreshToken = cookies.refreshToken && cookies.refreshToken !== "";

        // Combine all conditions
        const allConditionsMet = isLogged && loggedIn && accessToken && refreshToken;

        // Return true or false based on conditions
        window.parent.postMessage(allConditionsMet ? "true" : "false", "*");
    } catch (error) {
        // If an error occurs, return false
        window.parent.postMessage("false", "*");
    }
</script>
</body>
</html>
